<!-- Mobile backdrop -->
<div id="sidebar-backdrop" class="hidden fixed inset-0 bg-gray-900 bg-opacity-50 z-40 lg:hidden"></div>

<!-- Sidebar -->
<aside id="sidebar" class="fixed left-0 top-16 w-64 h-[calc(100vh-4rem)] overflow-y-auto bg-gradient-to-b from-white to-amber-50 border-r border-amber-200 p-6 z-40 transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out">
  {% if site.data.navigation %}
    {% for section in site.data.navigation.sections %}
      <div class="mb-8">
        <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3 flex items-center gap-2">
          {% if section.icon %}
            <span class="text-amber-500">
              {% case section.icon %}
                {% when 'lightning-bolt' %}âš¡
                {% when 'book' %}ğŸ“–
                {% when 'heart' %}ğŸ’
                {% when 'star' %}â­
                {% when 'bulb' %}ğŸ’¡
                {% when 'gear' %}âš™ï¸
                {% else %}â€¢
              {% endcase %}
            </span>
          {% endif %}
          {{ section.title }}
        </h3>
        <ul class="space-y-1">
          {% for item in section.items %}
            <li>
              <a href="{{ item.url }}" class="group flex items-center justify-between px-3 py-2 text-sm rounded-md transition-all {% if page.url == item.url or page.url contains item.url %}bg-amber-100 text-amber-900 font-medium{% else %}text-gray-700 hover:bg-amber-50 hover:text-amber-800{% endif %}">
                <span class="flex items-center gap-2">
                  {{ item.title }}
                  {% if item.series %}
                    <span class="text-xs text-gray-400">â€º</span>
                  {% endif %}
                </span>
                {% if item.status %}
                  <span class="text-xs">
                    {% case item.status %}
                      {% when 'done' %}ğŸŸ¢
                      {% when 'draft' %}ğŸŸ¡
                      {% when 'jottings' %}ğŸŸ 
                      {% when 'barely_started' %}ğŸ”´
                    {% endcase %}
                  </span>
                {% endif %}
              </a>
            </li>
          {% endfor %}
        </ul>
      </div>
    {% endfor %}
  {% else %}
    <!-- Fallback navigation if data file doesn't exist yet -->
    <nav class="space-y-1">
      <a href="/" class="block px-3 py-2 text-sm text-gray-700 rounded-md hover:bg-amber-50 hover:text-amber-800">Home</a>
    </nav>
  {% endif %}
</aside>
